{"Stack":"ReferenceError: scenID is not defined\n    at /home/heyu/519-today/weixin/weixin.js:134:65\n    at /home/heyu/519-today/node_modules/wechat/lib/util.js:17:5\n    at done (/home/heyu/519-today/node_modules/urllib/lib/urllib.js:257:5)\n    at /home/heyu/519-today/node_modules/urllib/lib/urllib.js:429:9\n    at decodeContent (/home/heyu/519-today/node_modules/urllib/lib/urllib.js:305:14)\n    at IncomingMessage.<anonymous> (/home/heyu/519-today/node_modules/urllib/lib/urllib.js:407:7)\n    at IncomingMessage.emit (events.js:117:20)\n    at _stream_readable.js:929:16\n    at process._tickCallback (node.js:419:13)"},
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/heyu/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at /home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1806:9\n    at __executeQueryCommand (/home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1636:44)\n    at Db._executeQueryCommand (/home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1805:7)\n    at Cursor.nextObject (/home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/heyu/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'preOpenID' of undefined\n    at Request._callback (/home/heyu/519-today/plugins/login.js:68:28)\n    at Request.self.callback (/home/heyu/519-today/node_modules/request/request.js:122:22)\n    at Request.emit (events.js:98:17)\n    at Request.<anonymous> (/home/heyu/519-today/node_modules/request/request.js:1019:14)\n    at Request.emit (events.js:117:20)\n    at IncomingMessage.<anonymous> (/home/heyu/519-today/node_modules/request/request.js:970:12)\n    at IncomingMessage.emit (events.js:117:20)\n    at _stream_readable.js:929:16\n    at process._tickCallback (node.js:419:13)"},
{"Stack":"TypeError: Cannot read property 'preOpenID' of undefined\n    at Request._callback (/home/heyu/519-today/plugins/login.js:68:28)\n    at Request.self.callback (/home/heyu/519-today/node_modules/request/request.js:122:22)\n    at Request.emit (events.js:98:17)\n    at Request.<anonymous> (/home/heyu/519-today/node_modules/request/request.js:1019:14)\n    at Request.emit (events.js:117:20)\n    at IncomingMessage.<anonymous> (/home/heyu/519-today/node_modules/request/request.js:970:12)\n    at IncomingMessage.emit (events.js:117:20)\n    at _stream_readable.js:929:16\n    at process._tickCallback (node.js:419:13)"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/heyu/519-today/controllers/user_order.js:8:30\n    at Promise.histotyFind (/home/heyu/519-today/proxy/shop_history.js:119:14)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/heyu/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/heyu/519-today/app.js:63:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/heyu/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/heyu/519-today/app.js:63:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"Stack":"TypeError: Cannot read property 'address' of null\n    at Promise.<anonymous> (/home/heyu/519-today/controllers/address.js:16:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
{"Stack":"TypeError: Cannot read property 'address' of null\n    at Promise.<anonymous> (/home/heyu/519-today/controllers/address.js:16:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
{"Stack":"TypeError: Cannot read property 'sceneID' of null\n    at Promise.afterFind (/home/heyu/519-today/weixin/proxy.js:102:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
{"Stack":"TypeError: Cannot read property 'sceneID' of null\n    at Promise.afterFind (/home/heyu/519-today/weixin/proxy.js:102:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
{"Stack":"TypeError: Cannot read property 'sceneID' of null\n    at Promise.afterFind (/home/heyu/519-today/weixin/proxy.js:102:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
{"Stack":"TypeError: Cannot read property 'sceneID' of null\n    at Promise.afterFind (/home/heyu/519-today/weixin/proxy.js:102:17)\n    at Promise.<anonymous> (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/heyu/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/heyu/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/heyu/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/heyu/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11"},
