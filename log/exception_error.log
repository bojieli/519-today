{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/cdd/workspace/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/cdd/workspace/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:132:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:132:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:132:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:132:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:134:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:134:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:134:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:134:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:136:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:136:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"Stack":"TypeError: Cannot read property 'status' of undefined\n    at Promise.orderFind (/home/zw/519/519-today/proxy/shop_history.js:137:19)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:837:32)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:193:11\n    at /home/zw/519/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:539:35"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/zw/519/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/zw/519/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/zw/519/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/zw/519/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/cdd/workspace/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/cdd/workspace/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
<<<<<<< HEAD
>>>>>>> 574b73c6bb837ec304ccf97daa4216c54979bfee
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/zw/519/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/zw/519/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/zw/519/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/zw/519/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
{"Stack":"TypeError: Cannot set property 'errCode' of null\n    at Object.exports.wrapError (/home/zw/519/519-today/proxy/wrap_error.js:2:20)\n    at Promise.<anonymous> (/home/zw/519/519-today/proxy/shop_history.js:160:21)\n    at Promise.<anonymous> (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/zw/519/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/zw/519/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/zw/519/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/zw/519/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/zw/519/519-today/node_modules/mongoose/lib/query.js:845:14)"},
=======
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1806:9\n    at __executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1636:44)\n    at Db._executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1805:7)\n    at Cursor.nextObject (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)"},
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at Db._executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1802:12)\n    at Cursor.nextObject (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/scope.js:10:20)\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1541:65"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1806:9\n    at __executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1636:44)\n    at Db._executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1805:7)\n    at Cursor.nextObject (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)"},
{"Stack":"ReferenceError: idlist is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:169:41)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"ReferenceError: idlist is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:169:41)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"TypeError: Cannot read property 'wines' of undefined\n    at /home/cdd/workspace/519-today/controllers/user_order.js:7:30\n    at Promise.histotyFind (/home/cdd/workspace/519-today/proxy/shop_history.js:116:14)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:898:30\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:955:5\n    at /home/cdd/workspace/519-today/node_modules/mongoose/node_modules/mongodb/lib/mongodb/cursor.js:153:9"},
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1806:9\n    at __executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1636:44)\n    at Db._executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1805:7)\n    at Cursor.nextObject (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)"},
{"code":"EADDRINUSE","errno":"EADDRINUSE","syscall":"listen","Stack":"Error: listen EADDRINUSE\n    at errnoException (net.js:904:11)\n    at Server._listen2 (net.js:1042:14)\n    at listen (net.js:1064:10)\n    at Server.listen (net.js:1138:5)\n    at Function.app.listen (/home/cdd/workspace/519-today/node_modules/express/lib/application.js:532:24)\n    at Object.<anonymous> (/home/cdd/workspace/519-today/app.js:68:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)"},
{"Stack":"ReferenceError: orders is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:187:31)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"ReferenceError: orders is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:187:31)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"ReferenceError: orders is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:187:31)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"ReferenceError: orders is not defined\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/proxy/shop_history.js:187:31)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"ReferenceError: order is not defined\n    at Promise.orderFind (/home/cdd/workspace/519-today/proxy/shop_history.js:147:58)\n    at Promise.<anonymous> (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.emit (events.js:95:17)\n    at Promise.emit (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete (/home/cdd/workspace/519-today/node_modules/mongoose/lib/promise.js:70:20)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:847:28\n    at model.Document.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/document.js:199:11)\n    at model.init (/home/cdd/workspace/519-today/node_modules/mongoose/lib/model.js:181:36)\n    at cb (/home/cdd/workspace/519-today/node_modules/mongoose/lib/query.js:845:14)\n    at /home/cdd/workspace/519-today/node_modules/mongoose/lib/utils.js:408:16"},
{"Stack":"Error: Error setting TTL index on collection : sessions\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/lib/connect-mongo.js:161:23\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1404:28\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1542:30\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:159:22\n    at commandHandler (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:678:48)\n    at /home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1806:9\n    at __executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1636:44)\n    at Db._executeQueryCommand (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/db.js:1805:7)\n    at Cursor.nextObject (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:729:13)\n    at Cursor.toArray (/home/cdd/workspace/519-today/node_modules/connect-mongo/node_modules/mongodb/lib/mongodb/cursor.js:158:10)"},
>>>>>>> 43c5b0527d0f35ce5b3fb134cda6c0ef066f96a3
